{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/utils.js","components/ImagePopup.js","utils/FormValidator.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Spinner.js","utils/api.js","components/App.js","reportWebVitals.js","index.js","images/logo.svg"],"names":["Header","react_default","a","createElement","className","src","logo","alt","CurrentUserContext","createContext","Card","_ref","card","handleCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","_id","owner","deleteButtonClass","concat","isLiked","likes","some","i","likeButtonClass","link","name","onClick","type","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","components_Card","key","Footer","Date","getFullYear","popupClassStyle","isOpen","ImagePopup","onClose","Fragment","FormValidator","settings","formName","_this","this","Object","classCallCheck","toggleButtonState","_form","checkValidity","_submitButton","classList","remove","_inactiveButtonClass","disabled","add","clearAllErrorMessages","_inputs","forEach","input","_hideInputError","_showInputError","_inputErrorClass","errorMessage","querySelector","id","textContent","validationMessage","_errorClass","document","enableValidation","inputElement","addEventListener","_handleInput","inactiveButtonClass","inputErrorClass","errorClass","forms","Array","from","querySelectorAll","inputSelector","submitButtonSelector","createClass","value","validity","valid","validatorSettings","formSelector","PopupWithForm","title","children","buttonText","isLoading","buttonTextOnLoading","onSubmit","useEffect","EditProfilePopup","onUpdateUser","_useState","useState","_useState2","slicedToArray","formValues","setFormValues","handleChangeInput","e","_e$target","target","prevState","objectSpread","defineProperty","components_PopupWithForm","isClose","preventDefault","onChange","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","current","placeholder","ref","AddPlacePopup","console","log","ConfirmPopup","onConfirm","Spinner","api","Api","baseURL","headers","getAuthorInfo","fetch","_baseURL","_headers","then","res","_getResponseData","getCards","setUserInfo","data","method","body","JSON","stringify","addNewCard","removeCard","cardId","addLike","removeLike","setAvatar","ok","json","Promise","reject","status","authorization","Content-Type","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_useState3","_useState4","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState5","_useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState7","_useState8","isImagePopupOpen","setIsImagePopupOpen","_useState9","_useState10","isConfirmPopupOpen","setIsConfirmPopupOpen","_useState11","_useState12","selectedCard","setSelectedCard","_useState13","_useState14","setCurrentUser","_useState15","_useState16","setCards","_useState17","_useState18","setIsLoading","all","_ref2","userInfo","catch","err","closeAllPopups","updataUserData","Provider","components_Header","components_Main","newCard","state","c","er","components_Footer","components_EditProfilePopup","components_EditAvatarPopup","components_AddPlacePopup","toConsumableArray","components_ImagePopup","components_ConfirmPopup","filter","components_Spinner","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode","components_App","module","exports","p"],"mappings":"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","file":"static/js/main.a40a3edc.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className='header'>\r\n      <img className='header__logo' src={logo} alt='Логотип' />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { createContext } from 'react';\r\nexport const CurrentUserContext = createContext();\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, handleCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  //Определяем, ялвяется ли карточка нашей\r\n  const isOwn = currentUser._id === card.owner._id;\r\n  const deleteButtonClass = `elements__delete-button ${\r\n    isOwn ? 'elements__delete-button_visible' : 'elements__delete-button_hidden'\r\n  }`;\r\n  //Определяем, поставили ли лайк мы этой карточке\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const likeButtonClass = `elements__like ${\r\n    isLiked ? 'elements__like_actived' : 'elements__like_deactivated'\r\n  }`;\r\n  const onClick = () => {\r\n    //Открытие попапа для увеличения картинки\r\n    handleCardClick(card);\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    //Отправка лайка\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleDeleteCard = () => {\r\n    onCardDelete(card);\r\n  };\r\n  return (\r\n    <li className='elements__item'>\r\n      <img\r\n        className='elements__image'\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={onClick}\r\n      />\r\n      <div className='elements__description'>\r\n        <p className='elements__title'>{card.name}</p>\r\n        <div>\r\n          <button\r\n            type='button'\r\n            className={likeButtonClass}\r\n            onClick={handleLikeClick}></button>\r\n          <p className='elements__like-counter'>{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button\r\n        type='button'\r\n        className={deleteButtonClass}\r\n        onClick={handleDeleteCard}></button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n  cards,\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  handleCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section>\r\n        <div className='profile'>\r\n          <div className='avatar' onClick={onEditAvatar}>\r\n            <img\r\n              className='avatar__image'\r\n              src={currentUser.avatar}\r\n              alt='Аватар'\r\n            />\r\n            <div className='avatar__layout'></div>\r\n          </div>\r\n          <div className='profile__info'>\r\n            <div className='profile__author-panel'>\r\n              <h1 className='profile__text-field profile__text-field_type_author'>\r\n                {currentUser.name}\r\n              </h1>\r\n              <button\r\n                type='button'\r\n                className='profile__edit-button'\r\n                onClick={onEditProfile}></button>\r\n            </div>\r\n            <p className='profile__text-field profile__text-field_type_description'>\r\n              {currentUser.about}\r\n            </p>\r\n          </div>\r\n          <button\r\n            type='button'\r\n            className='profile__add-button'\r\n            onClick={onAddPlace}></button>\r\n        </div>\r\n        <ul className='elements'>\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              handleCardClick={handleCardClick}\r\n              onCardDelete={onCardDelete}\r\n              onCardLike={onCardLike}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>\r\n        &copy; {new Date().getFullYear()}. Дмитрий Львов\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export const popupClassStyle = (name, isOpen) => {\r\n  if (isOpen) {\r\n    return `popup popup_type_${name} popup_opened`;\r\n  }\r\n  return `popup popup_type_${name}`;\r\n};\r\n","import React from 'react';\r\nimport { popupClassStyle } from '../utils/utils';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n  return (\r\n    <>\r\n      <div className={popupClassStyle('image', isOpen)}>\r\n        <div className='popup__container popup__container_type_image'>\r\n          <button\r\n            type='button'\r\n            className='popup__close-button'\r\n            onClick={onClose}\r\n          ></button>\r\n          <img className='popup__image' src={card.link} alt={card.name} />\r\n          <p className='popup__description'>{card.name}</p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","export class FormValidator {\r\n  constructor(settings, formName) {\r\n    //Сохраняем настройки в приватные поля для дальнейшего использования\r\n    this._inactiveButtonClass = settings.inactiveButtonClass;\r\n    this._inputErrorClass = settings.inputErrorClass;\r\n    this._errorClass = settings.errorClass;\r\n    this._form = document.forms[formName];\r\n    this._inputs = Array.from(\r\n      this._form.querySelectorAll(settings.inputSelector)\r\n    );\r\n    this._submitButton = this._form.querySelector(\r\n      settings.submitButtonSelector\r\n    );\r\n  }\r\n\r\n  //Функция изменения состояния кнопки подтверждения\r\n  toggleButtonState = () => {\r\n    // Если есть хотя бы один невалидный инпут\r\n    if (!this._form.checkValidity()) {\r\n      // сделай кнопку неактивной\r\n      this._submitButton.classList.add(this._inactiveButtonClass);\r\n      this._submitButton.disabled = true;\r\n    } else {\r\n      // иначе сделай кнопку активной\r\n      this._submitButton.classList.remove(this._inactiveButtonClass);\r\n      this._submitButton.disabled = false;\r\n    }\r\n  };\r\n\r\n  //Функция очищения всех полей ошибок для внешнего вызова\r\n  clearAllErrorMessages = () => {\r\n    this._inputs.forEach((input) => this._hideInputError(input));\r\n  };\r\n\r\n  // Функция, которая добавляет класс с ошибкой\r\n  _showInputError = (input) => {\r\n    //Выделение некорректного поля\r\n    input.classList.add(this._inputErrorClass);\r\n    //Найдем элемент ошибки\r\n    const errorMessage = this._form.querySelector(\r\n      `.popup__error_type_${input.id}`\r\n    );\r\n    //Передадим текст ошибки\r\n    errorMessage.textContent = input.validationMessage;\r\n    //Сделаем видимым сообщение об ошибке\r\n    errorMessage.classList.add(this._errorClass);\r\n  };\r\n\r\n  // Функция, которая удаляет класс с ошибкой\r\n  _hideInputError = (input) => {\r\n    //Снять выделение некорректного поля\r\n    input.classList.remove(this._inputErrorClass);\r\n    //Найдем элемент ошибки\r\n    const errorMessage = document.querySelector(\r\n      `.popup__error_type_${input.id}`\r\n    );\r\n    //Скроем сообщение об ошибке\r\n    errorMessage.classList.remove(this._errorClass);\r\n    //Очистим текст ошибки\r\n    errorMessage.textContent = '';\r\n  };\r\n  // Функция, которая проверяет валидность поля\r\n  _handleInput(inputElement) {\r\n    if (!inputElement.validity.valid) {\r\n      // Если поле не проходит валидацию, покажем ошибку\r\n      this._showInputError(inputElement);\r\n    } else {\r\n      // Если проходит, скроем\r\n      this._hideInputError(inputElement);\r\n    }\r\n    this.toggleButtonState();\r\n  }\r\n\r\n  enableValidation = () => {\r\n    //Добавляем события изменения для каждого инпут\r\n    this._inputs.forEach((inputElement) => {\r\n      inputElement.addEventListener('input', () =>\r\n        this._handleInput(inputElement)\r\n      );\r\n    });\r\n  };\r\n}\r\n\r\nexport const validatorSettings = {\r\n  formSelector: '.popup__container_type_form',\r\n  inputSelector: '.popup__text-input',\r\n  submitButtonSelector: '.popup__submit-button',\r\n  inactiveButtonClass: 'popup__submit-button_disabled',\r\n  inputErrorClass: 'popup__text-input_type_error',\r\n  errorClass: 'popup__error_visible',\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { popupClassStyle } from '../utils/utils';\r\nimport { FormValidator, validatorSettings } from '../utils/FormValidator';\r\n\r\nfunction PopupWithForm({\r\n  title,\r\n  name,\r\n  isOpen,\r\n  onClose,\r\n  children,\r\n  buttonText,\r\n  isLoading,\r\n  buttonTextOnLoading,\r\n  onSubmit,\r\n}) {\r\n  //Активация валидации для формы\r\n  useEffect(() => {\r\n    const validator = new FormValidator(validatorSettings, `${name}-form`);\r\n    validator.enableValidation();\r\n  }, []);\r\n  //Проверка активной кнопки при открытии\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      const validator = new FormValidator(validatorSettings, `${name}-form`);\r\n      validator.toggleButtonState();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <div className={popupClassStyle(name, isOpen)}>\r\n      <form\r\n        name={`${name}-form`}\r\n        onSubmit={onSubmit}\r\n        className={`popup__container popup__container_type_form`}>\r\n        <button\r\n          type='button'\r\n          className='popup__close-button'\r\n          onClick={onClose}></button>\r\n        <h2 className='popup__title'>{title}</h2>\r\n        {children}\r\n        <button\r\n          type='submit'\r\n          className='popup__submit-button popup__submit-button_type_confirm'>\r\n          {isLoading ? buttonTextOnLoading : buttonText}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n  const [formValues, setFormValues] = useState({ name: '', about: '' });\r\n  const currentUser = useContext(CurrentUserContext);\r\n  //Установка данных пользователя по умолчанию\r\n  useEffect(() => {\r\n    const { name, about } = currentUser;\r\n    setFormValues({ name, about });\r\n  }, [currentUser, isOpen]);\r\n\r\n  //Обработка инпутов\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues((prevState) => ({ ...prevState, [name]: value }));\r\n  };\r\n\r\n  //Подтверждение сохранения картинки\r\n  const handleSubmit = (e) => {\r\n    //Отмена стандартной отправки формы\r\n    e.preventDefault();\r\n    onUpdateUser(formValues);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      isOpen={isOpen}\r\n      isClose={!isOpen}\r\n      onClose={onClose}\r\n      buttonText='Сохранить'\r\n      buttonTextOnLoading='Сохранение'\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}>\r\n      <input\r\n        id='author'\r\n        name='name'\r\n        value={formValues.name}\r\n        onChange={handleChangeInput}\r\n        className='popup__text-input popup__text-input_order_first popup__text-input_type_author'\r\n        type='text'\r\n        minLength='2'\r\n        maxLength='40'\r\n        required\r\n      />\r\n      <span className='popup__error popup__error_type_author popup__error_order_first' />\r\n      <input\r\n        id='description'\r\n        name='about'\r\n        value={formValues.about}\r\n        onChange={handleChangeInput}\r\n        className='popup__text-input popup__text-input_order_next popup__text-input_type_description'\r\n        type='text'\r\n        minLength='2'\r\n        maxLength='200'\r\n        required\r\n      />\r\n      <span className='popup__error popup__error_type_description popup__error_order_second' />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n  const avatarInput = useRef(null);\r\n  //Сохраение аватара\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const avatar = avatarInput.current.value;\r\n    onUpdateAvatar(avatar);\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Обновить аватар'\r\n      isOpen={isOpen}\r\n      isClose={!isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText='Сохранить'\r\n      buttonTextOnLoading='Сохранение'\r\n      isLoading={isLoading}>\r\n      <input\r\n        id='url'\r\n        className='popup__text-input popup__text-input_order_first'\r\n        type='url'\r\n        placeholder='Ссылка на аватар'\r\n        required\r\n        ref={avatarInput}\r\n      />\r\n      <span className='popup__error popup__error_type_url popup__error_order_first' />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n  const [formValues, setFormValues] = useState({ name: '', link: '' });\r\n  //Обработка инпутов\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues((prevState) => ({ ...prevState, [name]: value }));\r\n  };\r\n  //Подтверждение сохранения картинки\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log();\r\n    onAddPlace(formValues);\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      name='card'\r\n      title='Новое место'\r\n      isOpen={isOpen}\r\n      isClose={!isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText='Добавить'\r\n      buttonTextOnLoading='Добавление'\r\n      isLoading={isLoading}>\r\n      <input\r\n        id='name'\r\n        name='name'\r\n        className='popup__text-input popup__text-input_order_first popup__text-input_type_picture-name'\r\n        type='text'\r\n        placeholder='Название'\r\n        onChange={handleChangeInput}\r\n        minLength='2'\r\n        maxLength='30'\r\n        required\r\n      />\r\n      <span className='popup__error popup__error_type_name popup__error_order_first' />\r\n      <input\r\n        id='path'\r\n        name='link'\r\n        className='popup__text-input popup__text-input_order_next popup__text-input_type_picture-path'\r\n        onChange={handleChangeInput}\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        required\r\n      />\r\n      <span className='popup__error popup__error_type_path popup__error_order_second' />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ isOpen, onClose, onConfirm, isLoading }) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onConfirm();\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      name='confirm'\r\n      title='Вы уверены?'\r\n      isOpen={isOpen}\r\n      isClose={!isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText='Да'\r\n      buttonTextOnLoading='Подтверждение'\r\n      isLoading={isLoading}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;\r\n","import React from 'react';\r\n\r\nfunction Spinner({ isLoading }) {\r\n  return isLoading ? <div className='spinner' /> : <></>;\r\n}\r\n\r\nexport default Spinner;\r\n","class Api {\r\n  constructor(baseURL, headers) {\r\n    this._baseURL = baseURL;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getAuthorInfo = () => {\r\n    //Запрос данных с сервера\r\n    return fetch(`${this._baseURL}/users/me`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  getCards = () => {\r\n    //Запрос карточек с сервера\r\n    return fetch(`${this._baseURL}/cards`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  setUserInfo = (data) => {\r\n    const { name, about } = data;\r\n    return fetch(`${this._baseURL}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  addNewCard = (data) => {\r\n    const { name, link } = data;\r\n    return fetch(`${this._baseURL}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  removeCard = (cardId) => {\r\n    return fetch(`${this._baseURL}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  addLike = (cardId) => {\r\n    return fetch(`${this._baseURL}/cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  removeLike = (cardId) => {\r\n    return fetch(`${this._baseURL}/cards/${cardId}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  setAvatar = (avatar) => {\r\n    return fetch(`${this._baseURL}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n}\r\n\r\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-42', {\r\n  authorization: 'd74ffdad-4b6e-4d97-9e8c-b8d87caa6667',\r\n  'Content-Type': 'application/json',\r\n});\r\nexport default api;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport Spinner from './Spinner';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({ name: '', link: '' });\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    Promise.all([api.getCards(), api.getAuthorInfo()])\r\n      .then(([cards, userInfo]) => {\r\n        setCards(cards);\r\n        setCurrentUser({ ...userInfo });\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка запроса стартовой информации: ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  //Обработчк открытия Popup для редактирования аватара\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n  //Обработчк открытия Popup для редактирования профиля\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n  //Обработчик открытия Popup для добавлеия нового места\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n  //Обработчик закрытия всех Popup\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsConfirmPopupOpen(false);\r\n    setSelectedCard({ name: '', link: '', id: '' });\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  };\r\n\r\n  //Перезаписываем данные пользователя из ответа сервера\r\n  const updataUserData = (res) => {\r\n    setCurrentUser({ ...res });\r\n    closeAllPopups();\r\n  };\r\n\r\n  //Обновление данных пользователя\r\n  const handleUpdateUser = (userInfo) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo(userInfo)\r\n      .then((res) => {\r\n        updataUserData(res);\r\n      })\r\n      .catch((er) => console.log(`Ошибка обновления данных пользователя`, er));\r\n  };\r\n\r\n  //Обновление аватара\r\n  const handleUpdateAvatar = (avatar) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setAvatar(avatar)\r\n      .then((res) => {\r\n        updataUserData(res);\r\n      })\r\n      .catch((er) => console.log('Ошика обновления аватара', er));\r\n  };\r\n\r\n  const handleCardLike = (card) => {\r\n    // Проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    isLiked\r\n      ? api\r\n          .removeLike(card._id)\r\n          .then((newCard) =>\r\n            setCards((state) =>\r\n              state.map((c) => (c._id === card._id ? newCard : c))\r\n            )\r\n          )\r\n          .catch((er) => console.log('Ошибка удаления лайка: ', er))\r\n      : api\r\n          .addLike(card._id)\r\n          .then((newCard) => {\r\n            setCards((state) =>\r\n              state.map((c) => (c._id === card._id ? newCard : c))\r\n            );\r\n          })\r\n          .catch((er) => console.log('Ошибка добавления лайка: ', er));\r\n  };\r\n\r\n  const handleCardDelete = () => {\r\n    setIsLoading(true);\r\n    api\r\n      .removeCard(selectedCard._id)\r\n      .then(() => {\r\n        setCards((prevState) =>\r\n          prevState.filter((c) => c._id !== selectedCard._id)\r\n        );\r\n        closeAllPopups();\r\n      })\r\n      .catch((er) => console.log('Ошибка удаления карточки: ', er));\r\n  };\r\n\r\n  const handleCardDeleteWithConfirm = (card) => {\r\n    setSelectedCard(card);\r\n    setIsConfirmPopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlace = (data) => {\r\n    setIsLoading(true);\r\n    api\r\n      .addNewCard(data)\r\n      .then((res) => {\r\n        setCards((prevState) => [res, ...prevState]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((er) => console.log('Ошибка добавления нового места', er));\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className='root'>\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          handleCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDeleteWithConfirm}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isLoading={isLoading}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isLoading={isLoading}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n          isLoading={isLoading}\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n          isLoading={isLoading}\r\n        />\r\n        <ConfirmPopup\r\n          isOpen={isConfirmPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onConfirm={handleCardDelete}\r\n          isLoading={isLoading}\r\n        />\r\n        <Spinner isLoading={isLoading} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.02e72859.svg\";"],"sourceRoot":""}